<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examples - Terratags</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Usage examples for Terratags - AWS resource tag validator for Terraform">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <a href="index.html">Terratags</a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="documentation.html">Documentation</a></li>
                    <li><a href="examples.html">Examples</a></li>
                    <li><a href="https://github.com/terratags/terratags" target="_blank">GitHub</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1>Terratags Usage Examples</h1>
        <p>This page provides practical examples of how to use Terratags in various scenarios.</p>
        
        <section>
            <h2>Command Examples</h2>
            
            <div class="example-block">
                <h3>Basic Usage</h3>
                <p>Run Terratags against a Terraform directory with a configuration file:</p>
                <pre><code>terratags -config config.yaml -dir ./terraform</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Generate HTML Report</h3>
                <p>Generate a detailed HTML report of tag compliance:</p>
                <pre><code>terratags -config config.yaml -dir ./terraform -report report.html</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Validate Terraform Plan</h3>
                <p>Validate tags in a Terraform plan output:</p>
                <pre><code>terraform plan -out=tfplan
terraform show -json tfplan > plan.json
terratags -config config.yaml -plan plan.json</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Show Auto-remediation Suggestions</h3>
                <p>Get suggestions for fixing non-compliant resources:</p>
                <pre><code>terratags -config config.yaml -dir ./terraform -remediate</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Use Exemptions</h3>
                <p>Apply exemptions to specific resources:</p>
                <pre><code>terratags -config config.yaml -dir ./terraform -exemptions exemptions.yaml</code></pre>
            </div>
        </section>
        
        <section>
            <h2>Configuration Examples</h2>
            
            <div class="example-block">
                <h3>Required Tags Configuration (YAML)</h3>
                <pre><code>required_tags:
  - Name
  - Environment
  - Owner
  - Project</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Required Tags Configuration (JSON)</h3>
                <pre><code>{
  "required_tags": [
    "Name",
    "Environment",
    "Owner",
    "Project"
  ]
}</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Exemptions Configuration</h3>
                <pre><code>exemptions:
  - resource_type: aws_s3_bucket
    resource_name: logs_bucket
    exempt_tags: [Owner, Project]
    reason: "Legacy bucket used for system logs only"
  
  - resource_type: aws_dynamodb_table
    resource_name: "*"
    exempt_tags: [Environment]
    reason: "DynamoDB tables use environment from provider default_tags"</code></pre>
            </div>
        </section>
        
        <section>
            <h2>Terraform Examples</h2>
            
            <div class="example-block">
                <h3>AWS Provider with Default Tags</h3>
                <pre><code>provider "aws" {
  region = "us-west-2"
  
  default_tags {
    tags = {
      Environment = "dev"
      Owner       = "team-a"
      Project     = "demo"
    }
  }
}</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Resource with Tags</h3>
                <pre><code>resource "aws_instance" "example" {
  ami           = "ami-12345678"
  instance_type = "t2.micro"
  
  tags = {
    Name = "example-instance"
    Environment = "production"
    Owner = "team-b"
    Project = "website"
  }
}</code></pre>
            </div>
            
            <div class="example-block">
                <h3>Resource with Default Tags</h3>
                <pre><code>resource "aws_instance" "example" {
  ami           = "ami-12345678"
  instance_type = "t2.micro"
  
  # Only need to specify Name tag, as other required tags come from default_tags
  tags = {
    Name = "example-instance"
  }
}</code></pre>
                <p>In this example, the AWS instance will have all four required tags: <code>Name</code> from the resource-level tags, and <code>Environment</code>, <code>Owner</code>, and <code>Project</code> from the provider's default_tags.</p>
            </div>
        </section>
        
        <section>
            <h2>CI/CD Integration Example</h2>
            
            <div class="example-block">
                <h3>GitHub Actions Workflow</h3>
                <pre><code># GitHub Actions example
name: Validate Tags

on:
  pull_request:
    paths:
      - '**.tf'

jobs:
  validate-tags:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Go
        uses: actions/setup-go@v4
        with:
          go-version: '1.24'
          
      - name: Install Terratags
        run: go install github.com/terratags/terratags@latest
        
      - name: Validate Tags
        run: terratags -config config.yaml -dir ./terraform</code></pre>
            </div>
        </section>
        
        <section>
            <h2>Sample Report</h2>
            <p>When you generate an HTML report with Terratags, it will look similar to this:</p>
            <div class="report-preview">┌─────────────────────────────────────────────────────┐
│           Terraform Tag Compliance Report           │
├─────────────────────────────────────────────────────┤
│ Generated on: 2025-05-16                           │
│                                                     │
│ Summary:                                            │
│ ✓ Total Resources: 4                                │
│ ✓ Compliant Resources: 2                            │
│ ✗ Non-compliant Resources: 2                        │
│                                                     │
│ [████████████████████████████████--------] 50.0%     │
│                                                     │
│ Non-compliant Resources:                            │
│ ✗ aws_s3_bucket "data_bucket"                       │
│   Missing Tags: Environment, Owner, Project         │
└─────────────────────────────────────────────────────┘</div>
            <p>The HTML report provides a visual representation of tag compliance across your Terraform resources, making it easy to identify which resources need attention and track compliance metrics. You can view the generated HTML report in any web browser.</p>
        </section>
    </main>

    <footer>
        <div class="container footer-content">
            <div>
                <p>&copy; 2025 Terratags</p>
            </div>
            <div class="footer-links">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="documentation.html">Documentation</a></li>
                    <li><a href="examples.html">Examples</a></li>
                    <li><a href="https://github.com/terratags/terratags" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </footer>
</body>
</html>