<!DOCTYPE html>
<html>
<head>
    <title>Terraform Tag Compliance Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .summary { margin-bottom: 20px; }
        .progress-bar { 
            width: 100%; 
            background-color: #f3f3f3; 
            border-radius: 5px; 
            margin-bottom: 20px;
        }
        .progress { 
            height: 30px; 
            background-color: #4CAF50; 
            border-radius: 5px; 
            text-align: center;
            line-height: 30px;
            color: white;
        }
        .resource { margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        .compliant { background-color: #dff0d8; }
        .non-compliant { background-color: #f2dede; }
        .exempt { background-color: #fcf8e3; }
        .tag-table { width: 100%; border-collapse: collapse; }
        .tag-table th, .tag-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .tag-table th { background-color: #f2f2f2; }
        .missing { color: red; }
        .present { color: green; }
        .exempt-tag { color: orange; }
        .exemption-reason { font-style: italic; color: #666; }
    </style>
</head>
<body>
    <h1>Terraform Tag Compliance Report</h1>
    <p>Generated on: 2025-05-16 14:09:34</p>
    <div class="summary">
        <h2>Summary</h2>
        <p>Total Resources: 4</p>
        <p>Compliant Resources: 2</p>
        <p>Non-compliant Resources: 1</p>
        <p>Exempt Resources: 1</p>
        <div class="progress-bar">
            <div class="progress" style="width: 50.0%;">50.0% Compliant</div>
        </div>
    </div>
    <h2>Required Tags</h2>
    <ul>
        <li>Name</li>
        <li>Environment</li>
        <li>Owner</li>
        <li>Project</li>
    </ul>
    <h2>Violations by Tag</h2>
    <table class="tag-table">
        <tr>
            <th>Tag</th>
            <th>Violations</th>
        </tr>
        <tr>
            <td>Name</td>
            <td>1</td>
        </tr>
        <tr>
            <td>Owner</td>
            <td>1</td>
        </tr>
        <tr>
            <td>Project</td>
            <td>1</td>
        </tr>
        <tr>
            <td>Environment</td>
            <td>1</td>
        </tr>
    </table>
    <h2>Resource Details</h2>
    <div class="resource compliant">
        <h3>aws_instance "web_server"</h3>
        <p>Path: resource_blocks/main.tf</p>
        <p>Status: <span class="present">Compliant</span></p>
        <table class="tag-table">
            <tr>
                <th>Tag</th>
                <th>Status</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td class="present">Present</td>
                <td>WebServer</td>
            </tr>
            <tr>
                <td>Environment</td>
                <td class="present">Present</td>
                <td>Production</td>
            </tr>
            <tr>
                <td>Owner</td>
                <td class="present">Present</td>
                <td>DevOps</td>
            </tr>
            <tr>
                <td>Project</td>
                <td class="present">Present</td>
                <td>Website</td>
            </tr>
        </table>
    </div>
    <div class="resource non-compliant">
        <h3>aws_s3_bucket "data_bucket"</h3>
        <p>Path: resource_blocks/main.tf</p>
        <p>Status: <span class="missing">Non-compliant</span></p>
        <table class="tag-table">
            <tr>
                <th>Tag</th>
                <th>Status</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td class="present">Present</td>
                <td>DataBucket</td>
            </tr>
            <tr>
                <td>Environment</td>
                <td class="missing">Missing</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Owner</td>
                <td class="missing">Missing</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Project</td>
                <td class="missing">Missing</td>
                <td>-</td>
            </tr>
        </table>
    </div>
    <div class="resource compliant">
        <h3>aws_vpc "main"</h3>
        <p>Path: resource_blocks/main.tf</p>
        <p>Status: <span class="present">Compliant</span></p>
        <table class="tag-table">
            <tr>
                <th>Tag</th>
                <th>Status</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td class="present">Present</td>
                <td>MainVPC</td>
            </tr>
            <tr>
                <td>Environment</td>
                <td class="present">Present</td>
                <td>Production</td>
            </tr>
            <tr>
                <td>Owner</td>
                <td class="present">Present</td>
                <td>Network</td>
            </tr>
            <tr>
                <td>Project</td>
                <td class="present">Present</td>
                <td>Infrastructure</td>
            </tr>
        </table>
    </div>
    <div class="resource exempt">
        <h3>aws_security_group "allow_http"</h3>
        <p>Path: resource_blocks/main.tf</p>
        <p>Status: <span class="exempt-tag">Exempt</span></p>
        <p class="exemption-reason">Reason: Security groups are exempt from tagging requirements</p>
        <table class="tag-table">
            <tr>
                <th>Tag</th>
                <th>Status</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td class="exempt-tag">Exempt</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Environment</td>
                <td class="exempt-tag">Exempt</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Owner</td>
                <td class="exempt-tag">Exempt</td>
                <td>-</td>
            </tr>
            <tr>
                <td>Project</td>
                <td class="exempt-tag">Exempt</td>
                <td>-</td>
            </tr>
        </table>
    </div>
</body>
</html>